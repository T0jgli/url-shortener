{"version":3,"sources":["components/SearchBox.js","components/Snackbars.js","components/Urls.js","App.js","index.js"],"names":["SearchBox","responseData","setresponseData","setSnackbarOpen","useState","inputUrl","setInputUrl","customUrl","setCustomUrl","loading","setLoading","className","style","width","onSubmit","e","preventDefault","str","RegExp","test","find","url","longUrl","open","content","severity","axios","post","urlToShorten","then","res","status","data","existingError","length","localStorage","setItem","JSON","stringify","shortUrl","window","scrollTo","top","innerHeight","left","behavior","catch","err","message","aria-label","placeholder","value","onChange","target","onClick","Grow","in","Boolean","type","CircularProgress","size","color","Snackbars","snackbarOpen","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","event","reason","elevation","variant","Urls","setResponseData","IconButton","disabled","delete","split","slice","newDataArray","filter","errorMessage","aria-hidden","title","rel","href","Button","navigator","clipboard","writeText","cursor","App","parse","getItem","map","index","array","ReactDOM","render","document","getElementById"],"mappings":"gQAeA,IAoIeA,EApIG,SAAC,GAAwD,IAAtDC,EAAqD,EAArDA,aAAcC,EAAuC,EAAvCA,gBAAiBC,EAAsB,EAAtBA,gBAAsB,EACtCC,mBAAS,IAD6B,mBAC/DC,EAD+D,KACrDC,EADqD,OAEpCF,mBAAS,IAF2B,mBAE/DG,EAF+D,KAEpDC,EAFoD,OAGxCJ,oBAAS,GAH+B,mBAG/DK,EAH+D,KAGtDC,EAHsD,KA4FtE,OACI,mCACI,sBAAKC,UAAU,MAAf,UACI,qDAGA,sBAAMC,MAAO,CAAEC,MAAO,QAAUC,SA7FvB,SAACC,GAGlB,OAFAA,EAAEC,iBAEGX,GAlBMY,EAyBGZ,EAxBJ,IAAIa,OAAO,wKAKC,KACTC,KAAKF,GAyBdhB,EAAamB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAYjB,MACzCC,EAAY,IACLH,EAAgB,CACnBoB,MAAM,EACNC,QAAS,sCACTC,SAAU,cAIlBf,GAAW,QAEXgB,IAAMC,KAAK,OAAQ,CACfC,aAAcvB,EACdE,cACDsB,MAAK,SAAAC,GACJ,GAAmB,MAAfA,EAAIC,OAAgB,CAKpB,GAJAzB,EAAY,IACZE,EAAa,IACbE,GAAW,GAEPoB,EAAIE,KAAKC,cACT,OAAO9B,EAAgB,CACnBoB,MAAM,EACNC,QAAS,wDACTC,SAAU,UAIdxB,EAAaiC,OAAS,EACtBC,aAAaC,QAAQ,OAAQC,KAAKC,UAAL,sBACtBrC,GADsB,CACR,CACbsC,SAAUT,EAAIE,KAAKO,SACnBjB,QAASQ,EAAIE,KAAKV,aAK1Ba,aAAaC,QAAQ,OAAQC,KAAKC,UAAU,CACxC,CACIC,SAAUT,EAAIE,KAAKO,SACnBjB,QAASQ,EAAIE,KAAKV,YAI9BpB,GAAgB,SAAAD,GAAY,4BAAQA,GAAR,CAAsB,CAC9CsC,SAAUT,EAAIE,KAAKO,SACnBjB,QAASQ,EAAIE,KAAKV,cAEtBnB,EAAgB,CACZoB,MAAM,EACNC,QAAS,SACTC,SAAU,YAEde,OAAOC,SAAS,CACZC,IAAKF,OAAOG,YACZC,KAAM,EACNC,SAAU,eAInBC,OAAM,SAAAC,GACL5C,EAAgB,CACZoB,MAAM,EACNC,QAASuB,EAAIC,QACbvB,SAAU,UAEdf,GAAW,OAxEJP,EAAgB,CACnBoB,MAAM,EACNC,QAAS,cACTC,SAAU,WAVPtB,EAAgB,CACnBoB,MAAM,EACNC,QAAS,qBACTC,SAAU,UAtB1B,IAAmBR,GA4GH,SACI,sBAAKN,UAAU,gBAAf,UACI,sBAAKA,UAAU,YAAf,UACI,uBAAOsC,aAAW,eAAYC,YAAY,SAASC,MAAO9C,EAAU+C,SAAU,SAAArC,GAC1ET,EAAYS,EAAEsC,OAAOF,UAExB9C,GACG,cAAC,IAAD,CAAWiD,QAAS,WAAQhD,EAAY,IAAKE,EAAa,UAGlE,cAAC+C,EAAA,EAAD,CAAMC,GAAIC,QAAQpD,GAAlB,SACI,qBAAKM,UAAU,aAAf,SACI,uBAAOsC,aAAW,eAAYC,YAAY,yBAAmBC,MAAO5C,EAAW6C,SAAU,SAAArC,GACrFP,EAAaO,EAAEsC,OAAOF,cAIlC,qBAAKxC,UAAU,SAAf,SACI,wBAAQ+C,KAAK,SAAb,SACKjD,EACG,cAACkD,EAAA,EAAD,CAAkBC,KAAM,GAAIhD,MAAO,CAAEiD,MAAO,UAExC,uB,0BCnHzBC,EAjBG,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,aAAc5D,EAAsB,EAAtBA,gBAC/B,OACI,cAAC6D,EAAA,EAAD,CAAUzC,KAAI,OAAEwC,QAAF,IAAEA,OAAF,EAAEA,EAAcxC,KAAM0C,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7EC,iBAAkB,KAAMC,QAAS,SAACC,EAAOC,GACtB,cAAXA,GACJpE,EAAgB,2BAAK4D,GAAN,IAAoBxC,MAAM,MAHjD,SAKI,cAAC,IAAD,CAAUiD,UAAW,EAAGC,QAAQ,SAC5BJ,QAAS,SAACC,EAAOC,GAA4B,cAAXA,GAAqCpE,EAAgB,2BAAK4D,GAAN,IAAoBxC,MAAM,MAChHE,SAAQ,OAAEsC,QAAF,IAAEA,OAAF,EAAEA,EAActC,SAF5B,SAIKsC,EAAavC,a,kBCmDfkD,EA5DF,SAAC,GAA2E,IAAzEpD,EAAwE,EAAxEA,QAASiB,EAA+D,EAA/DA,SAAUpC,EAAqD,EAArDA,gBAAiBwE,EAAoC,EAApCA,gBAAiB1E,EAAmB,EAAnBA,aAAmB,EACtDG,oBAAS,GAD6C,mBAC7EK,EAD6E,KACpEC,EADoE,KAyBpF,OACI,sBAAKC,UAAU,UAAf,UACI,cAACiE,EAAA,EAAD,CAAY3B,aAAW,oBAAc4B,SAAUpE,EAAS6C,QAzB9C,WACd5C,GAAW,GACXgB,IAAMoD,OAAN,eAAqBvC,EAASwC,MAAM,KAAKC,OAAO,GAAG,KAAMnD,MAAK,SAAAC,GAC1D,IAAMmD,EAAehF,EAAaiF,QAAO,SAAA7D,GAAG,OAAIA,EAAIkB,WAAaA,KAIjE,OAHAoC,EAAgBM,GAChBvE,GAAW,GACXyB,aAAaC,QAAQ,OAAQC,KAAKC,UAAU2C,IACxCnD,EAAIE,KAAKmD,aAAqBhF,EAAgB,CAC9CoB,MAAM,EACNC,QAASM,EAAIE,KAAKmD,aAClB1D,SAAU,UAGK,MAAfK,EAAIC,OACG5B,EAAgB,CACnBoB,MAAM,EACNC,QAAS,8BACTC,SAAU,cAJlB,MAY4EmC,KAAK,QAAQjD,UAAU,cAAnG,SACKF,EACG,cAACkD,EAAA,EAAD,CAAkByB,eAAa,EAAMxB,KAAM,GAAIhD,MAAO,CAAEiD,MAAO,WAE3D,cAAC,IAAD,CAAWuB,eAAa,MAIpC,6BACI,+BACI,sBAAMC,MAAO/D,EAASX,UAAU,UAAhC,SAA2CW,IAC3C,uBAAMX,UAAU,WAAhB,UACI,mBAAG0C,OAAO,SAASiC,IAAI,aAAaC,KAAMhD,EAA1C,SACKA,IAEL,cAACiD,EAAA,EAAD,CAAQlC,QAAS,WACbmC,UAAUC,UAAUC,UAAUpD,GAC9BpC,EAAgB,CACZoB,MAAM,EACNC,QAAS,mCACTC,SAAU,UAEfb,MAAO,CAAEgF,OAAQ,WAPpB,uCCATC,EA3CH,WAAO,IAAD,EACwBzF,mBAASiC,KAAKyD,MAAM3D,aAAa4D,QAAQ,UAAY,IAD7E,mBACT9F,EADS,KACKC,EADL,OAEwBE,mBAAS,CAC/CmB,MAAM,IAHQ,mBAETwC,EAFS,KAEK5D,EAFL,KAMhB,OACE,qCACE,cAAC,EAAD,CAAWF,aAAcA,EAAcC,gBAAiBA,EAAiBC,gBAAiBA,IACzFF,EAAaiC,OAAS,GACrB,qCACE,qBAAKvB,UAAU,cAAc2C,QAAS,WACpCd,OAAOC,SAAS,CACdC,IAAKF,OAAOG,YACZC,KAAM,EACNC,SAAU,cAId,qBAAKlC,UAAU,eAAf,gBACGV,QADH,IACGA,OADH,EACGA,EAAc+F,KAAI,SAAC3E,EAAK4E,EAAOC,GAAb,OACjB,gCACE,cAAC,EAAD,CAAMjG,aAAcA,EAClB0E,gBAAiBzE,EACjBC,gBAAiBA,EACjBmB,QAASD,EAAIC,QAASiB,SAAUlB,EAAIkB,WACrC0D,IAAUC,EAAMhE,OAAS,GAAM,yBALxB+D,WAelB,cAAC,EAAD,CAAW9F,gBAAiBA,EAAiB4D,aAAcA,QCnCjEoC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.580b65a9.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { CircularProgress, Grow } from \"@material-ui/core\";\r\n\r\nfunction validURL (str) {\r\n    var pattern = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol\r\n        '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\r\n        '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\r\n        '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\r\n        '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\r\n        '(\\\\#[-a-z\\\\d_]*)?$', 'i'); // fragment locator\r\n    return !!pattern.test(str);\r\n}\r\n\r\nconst SearchBox = ({ responseData, setresponseData, setSnackbarOpen }) => {\r\n    const [inputUrl, setInputUrl] = useState(\"\");\r\n    const [customUrl, setCustomUrl] = useState(\"\");\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!inputUrl)\r\n            return setSnackbarOpen({\r\n                open: true,\r\n                content: \"Adj meg egy URL-t!\",\r\n                severity: \"error\",\r\n            });\r\n\r\n        if (!validURL(inputUrl))\r\n            return setSnackbarOpen({\r\n                open: true,\r\n                content: \"Ez nem URL!\",\r\n                severity: \"error\",\r\n            });\r\n\r\n        if (responseData.find(url => url.longUrl === inputUrl)) {\r\n            setInputUrl(\"\");\r\n            return setSnackbarOpen({\r\n                open: true,\r\n                content: \"Az URL már szerepel a listán!\",\r\n                severity: \"warning\",\r\n            })\r\n        };\r\n\r\n        setLoading(true)\r\n\r\n        axios.post(\"/api\", {\r\n            urlToShorten: inputUrl,\r\n            customUrl\r\n        }).then(res => {\r\n            if (res.status === 200) {\r\n                setInputUrl(\"\");\r\n                setCustomUrl(\"\");\r\n                setLoading(false);\r\n\r\n                if (res.data.existingError)\r\n                    return setSnackbarOpen({\r\n                        open: true,\r\n                        content: \"Ez az azonosító foglalt. Válassz másikat!\",\r\n                        severity: \"error\",\r\n                    })\r\n\r\n\r\n                if (responseData.length > 0) {\r\n                    localStorage.setItem(\"URLS\", JSON.stringify([\r\n                        ...responseData, {\r\n                            shortUrl: res.data.shortUrl,\r\n                            longUrl: res.data.longUrl\r\n                        }\r\n                    ]))\r\n                }\r\n                else {\r\n                    localStorage.setItem(\"URLS\", JSON.stringify([\r\n                        {\r\n                            shortUrl: res.data.shortUrl,\r\n                            longUrl: res.data.longUrl\r\n                        }\r\n                    ]))\r\n                }\r\n                setresponseData(responseData => [...responseData, {\r\n                    shortUrl: res.data.shortUrl,\r\n                    longUrl: res.data.longUrl\r\n                }])\r\n                setSnackbarOpen({\r\n                    open: true,\r\n                    content: \"Siker!\",\r\n                    severity: \"success\",\r\n                })\r\n                window.scrollTo({\r\n                    top: window.innerHeight,\r\n                    left: 0,\r\n                    behavior: \"smooth\"\r\n                })\r\n\r\n            }\r\n        }).catch(err => {\r\n            setSnackbarOpen({\r\n                open: true,\r\n                content: err.message,\r\n                severity: \"error\",\r\n            })\r\n            setLoading(false)\r\n\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"App\">\r\n                <h2>\r\n                    URL Shortener by ME\r\n                </h2>\r\n                <form style={{ width: \"100%\" }} onSubmit={handleSubmit}>\r\n                    <div className=\"searchbox-div\">\r\n                        <div className=\"searchbox\">\r\n                            <input aria-label=\"Input sáv\" placeholder=\"URL...\" value={inputUrl} onChange={e => {\r\n                                setInputUrl(e.target.value);\r\n                            }} />\r\n                            {inputUrl && (\r\n                                <CloseIcon onClick={() => { setInputUrl(\"\"); setCustomUrl(\"\") }} />\r\n                            )}\r\n                        </div>\r\n                        <Grow in={Boolean(inputUrl)}>\r\n                            <div className=\"custom-url\">\r\n                                <input aria-label=\"Input sáv\" placeholder=\"Egyedi azonosító\" value={customUrl} onChange={e => {\r\n                                    setCustomUrl(e.target.value);\r\n                                }} />\r\n                            </div>\r\n                        </Grow>\r\n                        <div className=\"button\">\r\n                            <button type=\"submit\">\r\n                                {loading ? (\r\n                                    <CircularProgress size={20} style={{ color: \"grey\" }} />\r\n                                ) : (\r\n                                        \"Mehet\"\r\n                                    )}\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SearchBox\r\n","import Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nconst Snackbars = ({ snackbarOpen, setSnackbarOpen }) => {\r\n    return (\r\n        <Snackbar open={snackbarOpen?.open} anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n            autoHideDuration={3500} onClose={(event, reason) => {\r\n                if (reason === \"clickaway\") { return; };\r\n                setSnackbarOpen({ ...snackbarOpen, open: false })\r\n            }}>\r\n            <MuiAlert elevation={5} variant=\"filled\"\r\n                onClose={(event, reason) => { if (reason === \"clickaway\") { return; }; setSnackbarOpen({ ...snackbarOpen, open: false }) }}\r\n                severity={snackbarOpen?.severity}\r\n            >\r\n                {snackbarOpen.content}\r\n            </MuiAlert>\r\n        </Snackbar>\r\n    )\r\n}\r\n\r\nexport default Snackbars\r\n","import { Button, CircularProgress, IconButton } from \"@material-ui/core\"\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\nconst Urls = ({ longUrl, shortUrl, setSnackbarOpen, setResponseData, responseData }) => {\r\n    const [loading, setLoading] = useState(false)\r\n    const removeUrl = () => {\r\n        setLoading(true)\r\n        axios.delete(`/api/${shortUrl.split(\"/\").slice(-1)[0]}`).then(res => {\r\n            const newDataArray = responseData.filter(url => url.shortUrl !== shortUrl)\r\n            setResponseData(newDataArray)\r\n            setLoading(false)\r\n            localStorage.setItem(\"URLS\", JSON.stringify(newDataArray))\r\n            if (res.data.errorMessage) return setSnackbarOpen({\r\n                open: true,\r\n                content: res.data.errorMessage,\r\n                severity: \"error\",\r\n            })\r\n\r\n            if (res.status === 200) {\r\n                return setSnackbarOpen({\r\n                    open: true,\r\n                    content: \"Sikeresen eltávolítva\",\r\n                    severity: \"info\",\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"my-urls\">\r\n            <IconButton aria-label=\"Törlés ikon\" disabled={loading} onClick={removeUrl} size=\"small\" className=\"delete-icon\">\r\n                {loading ? (\r\n                    <CircularProgress aria-hidden={true} size={20} style={{ color: \"white\" }} />\r\n                ) : (\r\n                        <CloseIcon aria-hidden={true} />\r\n                    )}\r\n\r\n            </IconButton>\r\n            <ul>\r\n                <li>\r\n                    <span title={longUrl} className=\"longurl\">{longUrl}</span>\r\n                    <span className=\"shorturl\">\r\n                        <a target=\"_blank\" rel=\"noreferrer\" href={shortUrl}>\r\n                            {shortUrl}\r\n                        </a>\r\n                        <Button onClick={() => {\r\n                            navigator.clipboard.writeText(shortUrl)\r\n                            setSnackbarOpen({\r\n                                open: true,\r\n                                content: \"URL másolva a vágólapra\",\r\n                                severity: \"info\",\r\n                            })\r\n                        }} style={{ cursor: \"pointer\" }}>\r\n                            Másolás\r\n                        </Button>\r\n\r\n                    </span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Urls\r\n","import { useState } from \"react\";\nimport SearchBox from \"./components/SearchBox\";\nimport Snackbars from \"./components/Snackbars\";\nimport Urls from \"./components/Urls\";\nconst App = () => {\n  const [responseData, setresponseData] = useState(JSON.parse(localStorage.getItem(\"URLS\")) || []);\n  const [snackbarOpen, setSnackbarOpen] = useState({\n    open: false\n  })\n\n  return (\n    <>\n      <SearchBox responseData={responseData} setresponseData={setresponseData} setSnackbarOpen={setSnackbarOpen} />\n      {responseData.length > 0 && (\n        <>\n          <div className=\"icon-scroll\" onClick={() => {\n            window.scrollTo({\n              top: window.innerHeight,\n              left: 0,\n              behavior: \"smooth\"\n            })\n          }} />\n\n          <div className=\"confirmation\">\n            {responseData?.map((url, index, array) => (\n              <div key={index}>\n                <Urls responseData={responseData}\n                  setResponseData={setresponseData}\n                  setSnackbarOpen={setSnackbarOpen}\n                  longUrl={url.longUrl} shortUrl={url.shortUrl} />\n                {index !== array.length - 1 && (<hr />)}\n              </div>\n            ))}\n          </div>\n\n        </>\n      )}\n\n\n\n      <Snackbars setSnackbarOpen={setSnackbarOpen} snackbarOpen={snackbarOpen} />\n\n\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}