(this["webpackJsonpurl-shortener"]=this["webpackJsonpurl-shortener"]||[]).push([[0],{65:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),s=n(13),o=n.n(s),c=(n(65),n(15)),l=n(38),i=n(32),j=n.n(i),d=n(33),b=n.n(d),u=n(117),h=n(112);var O=function(e){var t=e.responseData,n=e.setresponseData,s=e.setSnackbarOpen,o=Object(a.useState)(""),i=Object(c.a)(o,2),d=i[0],O=i[1],p=Object(a.useState)(""),v=Object(c.a)(p,2),g=v[0],x=v[1],f=Object(a.useState)(!1),m=Object(c.a)(f,2),U=m[0],S=m[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("h2",{children:"URL Shortener by ME"}),Object(r.jsx)("form",{style:{width:"100%"},onSubmit:function(e){return e.preventDefault(),d?(r=d,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(r)?t.find((function(e){return e.longUrl===d}))?(O(""),s({open:!0,content:"Az URL m\xe1r szerepel a list\xe1n!",severity:"warning"})):(S(!0),void j.a.post("/api",{urlToShorten:d,customUrl:g}).then((function(e){if(200===e.status){if(O(""),x(""),S(!1),e.data.existingError)return s({open:!0,content:"Ez az azonos\xedt\xf3 foglalt. V\xe1lassz m\xe1sikat!",severity:"error"});t.length>0?localStorage.setItem("URLS",JSON.stringify([].concat(Object(l.a)(t),[{shortUrl:e.data.shortUrl,longUrl:e.data.longUrl}]))):localStorage.setItem("URLS",JSON.stringify([{shortUrl:e.data.shortUrl,longUrl:e.data.longUrl}])),n((function(t){return[].concat(Object(l.a)(t),[{shortUrl:e.data.shortUrl,longUrl:e.data.longUrl}])})),s({open:!0,content:"Siker!",severity:"success"}),window.scrollTo({top:window.innerHeight,left:0,behavior:"smooth"})}})).catch((function(e){s({open:!0,content:e.message,severity:"error"}),S(!1)}))):s({open:!0,content:"Ez nem URL!",severity:"error"})):s({open:!0,content:"Adj meg egy URL-t!",severity:"error"});var r},children:Object(r.jsxs)("div",{className:"searchbox-div",children:[Object(r.jsxs)("div",{className:"searchbox",children:[Object(r.jsx)("input",{"aria-label":"Input s\xe1v",placeholder:"URL...",value:d,onChange:function(e){O(e.target.value)}}),d&&Object(r.jsx)(b.a,{onClick:function(){O(""),x("")}})]}),Object(r.jsx)(u.a,{in:Boolean(d),children:Object(r.jsx)("div",{className:"custom-url",children:Object(r.jsx)("input",{"aria-label":"Input s\xe1v",placeholder:"Egyedi azonos\xedt\xf3",value:g,onChange:function(e){x(e.target.value)}})})}),Object(r.jsx)("div",{className:"button",children:Object(r.jsx)("button",{type:"submit",children:U?Object(r.jsx)(h.a,{size:20,style:{color:"grey"}}):"Mehet"})})]})})]})})},p=n(29),v=n(118),g=n(116),x=function(e){var t=e.snackbarOpen,n=e.setSnackbarOpen;return Object(r.jsx)(v.a,{open:null===t||void 0===t?void 0:t.open,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3500,onClose:function(e,r){"clickaway"!==r&&n(Object(p.a)(Object(p.a)({},t),{},{open:!1}))},children:Object(r.jsx)(g.a,{elevation:5,variant:"filled",onClose:function(e,r){"clickaway"!==r&&n(Object(p.a)(Object(p.a)({},t),{},{open:!1}))},severity:null===t||void 0===t?void 0:t.severity,children:t.content})})},f=n(114),m=n(115),U=function(e){var t=e.longUrl,n=e.shortUrl,s=e.setSnackbarOpen,o=e.setResponseData,l=e.responseData,i=Object(a.useState)(!1),d=Object(c.a)(i,2),u=d[0],O=d[1];return Object(r.jsxs)("div",{className:"my-urls",children:[Object(r.jsx)(f.a,{"aria-label":"T\xf6rl\xe9s ikon",disabled:u,onClick:function(){O(!0),j.a.delete("/api/".concat(n.split("/").slice(-1)[0])).then((function(e){var t=l.filter((function(e){return e.shortUrl!==n}));return o(t),O(!1),localStorage.setItem("URLS",JSON.stringify(t)),e.data.errorMessage?s({open:!0,content:e.data.errorMessage,severity:"error"}):200===e.status?s({open:!0,content:"Sikeresen elt\xe1vol\xedtva",severity:"info"}):void 0}))},size:"small",className:"delete-icon",children:u?Object(r.jsx)(h.a,{"aria-hidden":!0,size:20,style:{color:"white"}}):Object(r.jsx)(b.a,{"aria-hidden":!0})}),Object(r.jsx)("ul",{children:Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{title:t,className:"longurl",children:t}),Object(r.jsxs)("span",{className:"shorturl",children:[Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:n,children:n}),Object(r.jsx)(m.a,{onClick:function(){navigator.clipboard.writeText(n),s({open:!0,content:"URL m\xe1solva a v\xe1g\xf3lapra",severity:"info"})},style:{cursor:"pointer"},children:"M\xe1sol\xe1s"})]})]})})]})},S=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("URLS"))||[]),t=Object(c.a)(e,2),n=t[0],s=t[1],o=Object(a.useState)({open:!1}),l=Object(c.a)(o,2),i=l[0],j=l[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O,{responseData:n,setresponseData:s,setSnackbarOpen:j}),n.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"icon-scroll",onClick:function(){window.scrollTo({top:window.innerHeight,left:0,behavior:"smooth"})}}),Object(r.jsx)("div",{className:"confirmation",children:null===n||void 0===n?void 0:n.map((function(e,t,a){return Object(r.jsxs)("div",{children:[Object(r.jsx)(U,{responseData:n,setResponseData:s,setSnackbarOpen:j,longUrl:e.longUrl,shortUrl:e.shortUrl}),t!==a.length-1&&Object(r.jsx)("hr",{})]},t)}))})]}),Object(r.jsx)(x,{setSnackbarOpen:j,snackbarOpen:i})]})};o.a.render(Object(r.jsx)(S,{}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.580b65a9.chunk.js.map